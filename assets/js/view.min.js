$(document).ready(function(){function e(e,t){o.SwfFile=n+t,new FlexPaperViewer(a,e,{config:o})}var o={FitPageOnLoad:!0,FitWidthOnLoad:!0,InitViewMode:"Portrait"},t=$(".more-page a"),a=t.attr("page-swf"),n=t.attr("page-data"),r=t.attr("page-num"),l=t.attr("page-width"),g=t.attr("page-height"),c=1;$(".page").each(function(){e($(this).attr("id"),c++)}),$(".more-page a").click(function(){for(i=0;i<3;i++){var o=document.createElement("div");if(o.className="page",o.id="page_"+c,o.style.width=l+"px",o.style.height=g+"px",$(".more-page").before(o),$(".more-page .page-left").html(r-c),e($(o).attr("id"),c),++c>r){$(".more-page").remove();break}}}),$(window).scroll(function(){$(".page").each(function(){var e=$(this).offset().top;console.log("a: "+e),console.log("s: "+$(window).scrollTop()),console.log("h: "+$(window).height()),(e<=$(window).height()||e-$(window).scrollTop()<$(window).height())&&($(window).scrollTop()<=e||$(window).scrollTop()<e+$(this).height()+2)?console.log($(this).attr("id")+"在可视范围"):console.log($(this).attr("id")+"不在可视范围")})})});